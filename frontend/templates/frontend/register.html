{% extends "frontend/base.html" %}
{% block b1 %}
<h3>회원 가입 페이지</h3>
<div id="form-wrapper">
  <form id="form" class="mt-5">
    <div class="flex-wrapper">
      <div style="flex: 6">
        <input id="email" class="form-control mb-4" type="text" name="email" placeholder="email">
        <input id="password" class="form-control mb-4" type="password" name="password" placeholder="password">
        <input id="name" class="form-control mb-4" type="text" name="name" placeholder="name">
        <input id="address" class="form-control mb-4" type="text" name="address" placeholder="address">
      </div>
      <div style="flex: 1">
        <input id="submit" class="btn btn-dark" type="submit" >
      </div>
    </div>
  </form>
</div>

<script>
  var submitBtn = document.getElementById('submit')
  submitBtn.addEventListener('click', register)

  function register(){
    var email = document.getElementById('email').value
    var password = document.getElementById('password').value
    var name = document.getElementById('name').value
    var address = document.getElementById('address').value

    fetch('/api/user/register', {
      method: 'POST',
      headers: {
        'Content-type':'application/json',
      },
      body: JSON.stringify({
        'email': email,
        'password': password,
        'name': name,
        'address': address
      })
    })
    .then((response) => console.log(response));
  }
</script>
{% endblock %}
